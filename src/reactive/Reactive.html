<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>Analytics Notebook</title>
    <meta name="description" content="Analytics Notebook" />
    <meta name="author" content="David Barone" />

    <!-- d3 library from google cdn -->
    <script src="https://ajax.googleapis.com/ajax/libs/d3js/5.15.1/d3.min.js"></script>

    <script src="./Dep.js"></script>
    <script src="./Observer.js"></script>
    <script src="./Watcher.js"></script>

    <script type="text/javascript">
      document.addEventListener("DOMContentLoaded", function () {
        window.data = {
          frame: [1, 2, 3, 4, 5, 6, 7],
          name: "tony",
        };

        walk(window.data);

        /*
            const watcher = new Watcher(
                () => window.data.frame,
                (val) => ProcessData(val)
            );
            */

        const watcher2 = new Watcher(
          () => window.data.frame,
          (val) => alert(window.data.frame.length)
        );

        window.data.frame = [1, 2, 3];

        function ProcessData(arr) {
          alert(arr.length);
        }
      });
    </script>
  </head>

  <body></body>
</html>
